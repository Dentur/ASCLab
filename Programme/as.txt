load "C:\Users\Tim\Desktop\FH\ASC\Project\Programme\as_lab.txt";
{	
	set_marker THIS FORWARD 0;
	while((position_x != goal_x) OR (position_y != goal_y))
	{
		int index;
		index = 0;
		int minIndex;
		int minVal;
		minIndex = -1;
		minVal = 99999;
		while(index < get_marker_count)
		{
			int curVal; 
			curVal = get_marker index;
			if(curVal < minVal AND curVal >= 0)
			{
				minVal = curVal;
				minIndex = index;
			}
			index = index + 1;
		}
		if(minIndex == -1)
		{
			print "Error: Goal cannot be reached (1)";
			break;
		}
		teleport minIndex;
		wall w;
		w = look NORTH;
		if(w == FREE)
		{
			set_marker NORTH SOUTH minVal+1;
		}
		if(w == GOAL)
		{
			move NORTH;
			break;
		}
		if(w == MARK)
		{
			if(marker_value NORTH >= 0)
			{
				if((minVal+1) < marker_value NORTH)
				{
					set_marker NORTH SOUTH minVal+1;
				}
			}
		}
		w = look EAST;
		if(w == FREE)
		{
			set_marker EAST WEST minVal+1;
		}
		if(w == GOAL)
		{
			move EAST;
			break;
		}
		if(w == MARK)
		{
			if(marker_value EAST >= 0)
			{
				if((minVal+1) < marker_value EAST)
				{
					set_marker EAST WEST minVal+1;
				}
			}
		}
		w= look SOUTH;
		if(lw == FREE)
		{
			set_marker SOUTH NORTH minVal+1;
		}
		if(w == GOAL)
		{
			move SOUTH;
			break;
		}
		if(w == MARK)
		{
			if(marker_value SOUTH >= 0)
			{
				if((minVal+1) < marker_value SOUTH)
				{
					set_marker SOUTH NORTH minVal+1;
				}
			}
		}
		w=look WEST;
		if(w == FREE)
		{
			set_marker WEST EAST minVal+1;
		}
		if(w == GOAL)
		{
			move WEST;
			break;
		}
		if(w == MARK)
		{
			if(marker_value WEST >= 0)
			{
				if((minVal+1) < marker_value WEST)
				{
					set_marker WEST EAST minVal+1;
				}
			}
		}
		direction mDir;
		mDir = marker_direction THIS;
		delete_marker THIS;
		set_marker THIS mDir -1;
		
	}
	if(position_x == goal_x AND position_y == goal_y)
	{
		print "Ziel gefunden";
	}
}